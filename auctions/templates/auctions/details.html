{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Auctions Details</h2>
    {% if auction %}
        <div class="auction-item">
            <h3>{{ auction.title }}</h3>
            <img src="{{ auction.image_url }}" width="300px" alt="Image not found">
            <p>{{ auction.description }}</p>
            <p>Current Bid: ${{ auction.starting_bid }}</p>
            <p>Created by: {{ auction.creator.username }}</p>
            <p>Created on: {{ auction.created_at }}</p>

            {% if user.is_authenticated %}
                <form action="#" method="post">
                    {% csrf_token %}
                    {% if in_watchlist %}
                        <button type="submit">Remove from Watchlist</button>
                    {% else %}
                        <button type="submit">Add to Watchlist</button>
                    {% endif %}
                </form>

            {% else %}
                <p><a href="{% url 'login' %}">Login</a> to manage your watchlist.</p>
            {% endif %}

            <br>
            <a href="{% url 'index' %}">Back to Listings</a>
        </div>
    {% else %}
        <p>No details available for this auction.</p>
    {% endif %}
{% endblock %}

